(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{9944:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/drop-unveil",function(){return n(8029)}])},8029:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ke},default:function(){return ze}});var r=n(5893),o=n(7294),i=n(2648),s=n(9144),a=n(7379);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=u(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return c=function(){return e},e}function f(){var e=u(["\n      opacity: 0;\n      user-select: none;\n      pointer-events: none;\n    "]);return f=function(){return e},e}function l(){var e=u(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  opacity: 1;\n  transition: opacity 0.5s ease-in-out;\n  background-color: white;\n\n  ","\n"]);return l=function(){return e},e}function h(){var e=u(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  background: #fff;\n"]);return h=function(){return e},e}var d=a.ZP.div.withConfig({componentId:"sc-561aaaa1-0"})(c()),p=a.ZP.div.withConfig({componentId:"sc-561aaaa1-1"})(l(),(function(e){return e.shouldReveal&&(0,a.iv)(f())})),v=a.ZP.div.withConfig({componentId:"sc-561aaaa1-2"})(h()),_={app:null},m=n(9477),y=n(7954),g=n.n(y),x=n(2227),b=n(7637),w=n(8929),P=n(8518),R=n(4036),O=n(3629);function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function j(e,t){return!t||"object"!==D(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}var D=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,e);var t=L(n);function n(e){var r,o=e.mouseMove,i=e.camera,s=e.gui;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this))._raycaster=new m.iMs,r._rendererBounds={height:100,width:100},r._pixelRatio=1,r._mouse2D={current:{x:0,y:0},target:{x:0,y:0}},r._mouseStrength={current:0,target:0},r._hoveredObject=null,r._canHoverObject=!0,r._onMouseMove=function(e){r._mouseStrength.target=e.target.strength;var t=e.target.mouse.x,n=e.target.mouse.y;r._mouse2D.target.x=t/r._rendererBounds.width*2-1,r._mouse2D.target.y=-n/r._rendererBounds.height*2+1},r._camera=i,r._mouseMove=o,r._gui=s,r._addListeners(),r}var r=n.prototype;return r._addListeners=function(){this._mouseMove.addEventListener("mousemove",this._onMouseMove)},r._removeListeners=function(){this._mouseMove.removeEventListener("mousemove",this._onMouseMove)},r.setRendererBounds=function(e){this._rendererBounds=e},r.update=function(e){this._mouseStrength.current=(0,O.t)(this._mouseStrength.current,this._mouseStrength.target,n.lerpEase*e.slowDownFactor),this._mouse2D.current.x=(0,O.t)(this._mouse2D.current.x,this._mouse2D.target.x,n.lerpEase*e.slowDownFactor),this._mouse2D.current.y=(0,O.t)(this._mouse2D.current.y,this._mouse2D.target.y,n.lerpEase*e.slowDownFactor)},r.setPixelRatio=function(e){this._pixelRatio=e},r.destroy=function(){this._removeListeners()},n}(m.xsS);A.lerpEase=1.2*P.W.motion.LERP_EASE;var B=n(2354);function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}var I=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(n,e);var t=z(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).colliderName=null,e._isHovered=!1,e}var r=n.prototype;return r.setColliderName=function(e){this.colliderName=e},r.onMouseEnter=function(){this._isHovered=!0,this.dispatchEvent({type:"mouseenter"})},r.onMouseLeave=function(){this._isHovered=!1,this.dispatchEvent({type:"mouseleave"})},r.onClick=function(){this.dispatchEvent({type:"click"})},r.update=function(e){},r.destroy=function(){},n}(m.Tme);function F(e,t,n){return F="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},F(e,t,n||e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function N(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}var H=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(n,e);var t=W(n);function n(e){var r,o=e.gui;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this))._mesh=null,r._geometry=null,r._material=null,r._background={color1:[0,184/255,129/255],color2:[0,184/255,194/255],colorAccent:[0,0,0],uLinesBlur:.25,uNoise:.075,uOffsetX:.34,uOffsetY:0,uLinesAmount:5},r._mouse2D=[0,0],r._planeBounds={height:100,width:100},r._gui=o,r._setGui(),r._drawObject(),r}var r=n.prototype;return r._drawObject=function(){this._geometry=new m.BKK(1,1,32,32),this._material=new m.jyz({side:m.Wl3,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:'#define GLSLIFY 1\n//\n// GLSL textureless classic 2D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec2 fade(vec2 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec2 P)\n{\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod289(Pi); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n\n  vec4 i = permute(permute(ix) + iy);\n\n  vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n  vec4 gy = abs(gx) - 0.5 ;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n\n  vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColorAccent;\nuniform vec2 uPlaneRes;\nuniform vec2 uMouse2D;\nuniform float uLinesBlur;\nuniform float uNoise;\nuniform float uOffsetX;\nuniform float uOffsetY;\nuniform float uLinesAmount;\nuniform float uBackgroundScale;\n\nuniform float uTime;\nvarying vec2 vUv;\n\n#define PI 3.14159265359\n\nfloat lines(vec2 uv, float offset){\n    float a = abs(0.5 * sin(uv.y * uLinesAmount) + offset * uLinesBlur);\n    return smoothstep(0.0, uLinesBlur + offset * uLinesBlur, a);\n}\n\nmat2 rotate2d(float angle){\n    return mat2(cos(angle),-sin(angle),\n                sin(angle),cos(angle));\n}\n\nfloat random(vec2 p) {\n    vec2 k1 = vec2(\n            23.14069263277926, // e^pi (Gelfond\'s constant)\n            2.665144142690225 // 2^sqrt(2) (Gelfond\u2013Schneider constant)\n    );\n    return fract(\n            cos(dot(p, k1)) * 12345.6789\n    );\n}\n\nvec3 fadeLine(vec2 uv, vec2 mouse2D,  vec3 col1, vec3 col2, vec3 col3){\n    mouse2D = (mouse2D + 1.0) * 0.5;\n    float n1 = cnoise(uv); //(*|/ ) -> scale (+|-) -> offset\n    float n2 = cnoise(uv + uOffsetX * 20.0);\n    float n3 = cnoise(uv * 0.3 + uOffsetY * 10.0);\n    float nFinal = mix(mix(n1, n2, mouse2D.x), n3, mouse2D.y);\n    vec2 baseUv = vec2(nFinal + 2.05 ) * uBackgroundScale; // (+|-) -> frequency (*|/ ) -> lines count\n\n    float basePattern = lines(baseUv, 1.0);\n    float secondPattern = lines(baseUv, 0.25);\n\n    vec3 baseColor = mix(col1, col2, basePattern);\n    vec3 secondBaseColor = mix(baseColor, col3, secondPattern);\n    return secondBaseColor;\n}\n\nvoid main()\n{\n    vec2 mouse2D = uMouse2D;\n    \n\n    vec2 uv = vUv;\n    uv.y += uOffsetY;\n    uv.x += uOffsetX;\n    uv.x *= uPlaneRes.x / uPlaneRes.y; // Takes care of aspect ratio\n\n    vec3 col1 = fadeLine(uv, mouse2D, uColor1, uColor2, uColorAccent);\n    vec3 finalCol = col1;\n\n    vec2 uvRandom = vUv;\n    uvRandom.y *= random(vec2(uvRandom.y, 0.5));\n    finalCol.rgb += random(uvRandom) * uNoise;\n\n    gl_FragColor = vec4(finalCol, 1.0);\n}',uniforms:{uTime:{value:0},uColor1:{value:this._background.color1},uColor2:{value:this._background.color2},uColorAccent:{value:this._background.colorAccent},uLinesBlur:{value:this._background.uLinesBlur},uNoise:{value:this._background.uNoise},uOffsetX:{value:this._background.uOffsetX},uOffsetY:{value:this._background.uOffsetY},uLinesAmount:{value:this._setLinesAmount(this._background.uLinesAmount)},uPlaneRes:{value:[1,1]},uMouse2D:{value:[1,1]},uBackgroundScale:{value:1}},wireframe:!1}),this._mesh=new m.Kj0(this._geometry,this._material),this._mesh.renderOrder=-1,this.add(this._mesh)},r._setGui=function(){var e=this,t=this._gui.addFolder("Background");t.close(),t.addColor(this._background,"color1",1).name("Color 1"),t.addColor(this._background,"color2",1).name("Color 2"),t.addColor(this._background,"colorAccent",1).name("Color accent"),t.add(this._background,"uLinesBlur",.01,1,.01).name("LinesBlur").onChange((function(t){e._mesh&&(e._mesh.material.uniforms.uLinesBlur.value=t)})),t.add(this._background,"uNoise",.01,1,.01).name("Noise").onChange((function(t){e._mesh&&(e._mesh.material.uniforms.uNoise.value=t)})),t.add(this._background,"uOffsetX",-5,5,.01).name("Offset X").onChange((function(t){e._mesh&&(e._mesh.material.uniforms.uOffsetX.value=t)})),t.add(this._background,"uOffsetY",-5,5,.01).name("Offset Y").onChange((function(t){e._mesh&&(e._mesh.material.uniforms.uOffsetY.value=t)})),t.add(this._background,"uLinesAmount",0,15,.01).name("Lines amount").onChange((function(t){e._mesh&&e._setLinesAmount(t)}))},r._setLinesAmount=function(e){this._mesh&&(this._planeBounds.width>=B.A.tablet?this._mesh.material.uniforms.uLinesAmount.value=e:this._mesh.material.uniforms.uLinesAmount.value=3.8*e)},r.setSize=function(e){this._planeBounds=e,this._mesh&&(this._setLinesAmount(this._background.uLinesAmount),this._mesh.scale.x=this._planeBounds.width,this._mesh.scale.y=this._planeBounds.height,this._mesh.material.uniforms.uPlaneRes.value=[this._mesh.scale.x,this._mesh.scale.y],this._planeBounds.width<B.A.tablet?this._mesh.material.uniforms.uBackgroundScale.value=.001*this._planeBounds.width*1.45:this._mesh.material.uniforms.uBackgroundScale.value=1)},r.setMouse2D=function(e){this._mesh&&(this._mesh.material.uniforms.uMouse2D.value=[e.current.x,e.current.y])},r.update=function(e){F(U(n.prototype),"update",this).call(this,e),this._mesh&&(this._mesh.material.uniforms.uTime.value=.001*e.time)},r.destroy=function(){var e,t;F(U(n.prototype),"destroy",this).call(this),null===(e=this._geometry)||void 0===e||e.dispose(),null===(t=this._material)||void 0===t||t.dispose(),this._mesh&&this.remove(this._mesh)},n}(k);function V(e,t,n){return V="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},V(e,t,n||e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function Z(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}var K=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}var Q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(n,e);var t=J(n);function n(e){var r,o=e.fragmentShader,i=e.geometry,s=e.vertexShader;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this))._mouse2D=[0,0],r._rendererBounds={width:1,height:1},r._loadedAsset=null,r._fragmentShader=o||"#define GLSLIFY 1\nuniform vec2 uPlaneRes;\nuniform vec2 uImageRes;\nuniform sampler2D tMap;\nuniform float uTime;\n\nvarying vec2 vUv;\n\n#define PI 3.14159265359\n\nvoid main() {\n    vec2 ratio = vec2(\n        min((uPlaneRes.x / uPlaneRes.y) / (uImageRes.x / uImageRes.y), 1.0),\n        min((uPlaneRes.y / uPlaneRes.x) / (uImageRes.y / uImageRes.x), 1.0)\n    );\n\n    vec2 uv = vec2(\n        vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n        vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n    );\n\n    gl_FragColor.rgba = texture2D(tMap, uv).rgba;\n    \n}",r._vertexShader=s||"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",r._geometry=i,r._material=new m.jyz({side:m.Wl3,vertexShader:r._vertexShader,fragmentShader:r._fragmentShader,transparent:!0,uniforms:{uTime:{value:0},tMap:{value:null},uCanvasRes:{value:[0,0]},uPlaneRes:{value:[1,1]},uImageRes:{value:[1,1]},uMouse2D:{value:[1,1]},uLenseSize:{value:1}}}),r._mesh=new m.Kj0(r._geometry,r._material),r.add(r._mesh),r}var r=n.prototype;return r.setMouse2D=function(e){this._mesh.material.uniforms.uMouse2D.value=[e.current.x,e.current.y]},r.setSize=function(e){this._mesh.scale.x=e.width,this._mesh.scale.y=e.height,this._mesh.material.uniforms.uPlaneRes.value=[this._mesh.scale.x,this._mesh.scale.y]},r.setRendererBounds=function(e){this._rendererBounds=e,this._mesh.material.uniforms.uCanvasRes.value=[this._rendererBounds.width,this._rendererBounds.height]},r.setAsset=function(e){this._loadedAsset=e,this._mesh.material.uniforms.tMap.value=this._loadedAsset.asset,this._mesh.material.uniforms.uImageRes.value=[this._loadedAsset.naturalWidth,this._loadedAsset.naturalHeight]},r.update=function(e){V(X(n.prototype),"update",this).call(this,e),this._mesh.material.uniforms.uTime.value=.001*e.time},r.destroy=function(){V(X(n.prototype),"destroy",this).call(this),this._material.dispose(),this.remove(this._mesh)},n}(k);function $(e,t,n){return $="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},$(e,t,n||e)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){return!t||"object"!==re(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e,t){return ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ne(e,t)}var re=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}var ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(n,e);var t=oe(n);function n(e){var r,o=e.gui,i=e.fragmentShader,s=e.geometry,a=e.vertexShader;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,{fragmentShader:i,geometry:s,vertexShader:a}))._gui=o,r._setGui(),r}var r=n.prototype;return r._setGui=function(){},r.update=function(e){$(ee(n.prototype),"update",this).call(this,e)},r.setRendererBounds=function(e){$(ee(n.prototype),"setRendererBounds",this).call(this,e),this._rendererBounds.width>=B.A.tablet?this.setSize({width:n.tabletSize,height:n.tabletSize}):this.setSize({width:n.mobileSize,height:n.mobileSize})},r.destroy=function(){$(ee(n.prototype),"destroy",this).call(this)},n}(Q);ie.tabletSize=250,ie.mobileSize=130;var se=n(7957),ae=n(6194);function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(e,t){return!t||"object"!==le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}var le=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}var de=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(n,e);var t=he(n);function n(e){var r,o=e.text,i=e.offsetsArray,s=e.isAnimatedIn;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this))._rendererBounds={width:1,height:1},r._show=0,r._showTween=null,r._text1=o[0],r._text2=o[1],r._text3=o[2],r._offsetsArray=i,s&&(r._show=1),r._canvas=document.createElement("canvas"),r._ctx=r._canvas.getContext("2d"),r.texture=new m.xEZ(r._canvas),r}var r=n.prototype;return r._setSizes=function(){if(this._canvas&&this._ctx){var e=this._rendererBounds.width,t=this._rendererBounds.height,n=Math.min(window.devicePixelRatio,2);this._canvas.width=e*n,this._canvas.height=t*n,this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(t,"px"),this._ctx.setTransform(n,0,0,n,0,0)}},r._animateShow=function(e){var t=this;this._showTween&&this._showTween.stop(),this._showTween=new ae.ZP.Tween({progress:this._show}).to({progress:e},1600).delay(250).easing(ae.ZP.Easing.Exponential.InOut).onUpdate((function(e){t._show=e.progress,t.texture.needsUpdate=!0})),this._showTween.start()},r.animateIn=function(){this._animateShow(1)},r.setRendererBounds=function(e){this._rendererBounds=e,this._setSizes(),this.texture.needsUpdate=!0},r.update=function(e){if(this._ctx){this._ctx.clearRect(0,0,this._rendererBounds.width,this._rendererBounds.height);var t=.1*this._rendererBounds.width;this._rendererBounds.width>=B.A.tablet&&(t=100),this._ctx.font="".concat(t,"px 'opensans'"),this._ctx.fillStyle="#fff",this._ctx.textBaseline="top";var n=this._ctx.measureText(this._text1),r=this._offsetsArray[0],o=n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,i=this._ctx.measureText(this._text2),s=this._offsetsArray[1],a=this._ctx.measureText(this._text3),u=this._offsetsArray[2],c=.32*t,f=2*c+3*o,l=this._rendererBounds.height/2-f/2,h=(1-this._show)*this._rendererBounds.width*.11;this._ctx.fillText(this._text1,this._rendererBounds.width/2-n.width/2+n.width*r-h,l+o*this._offsetsArray[3]),this._ctx.fillText(this._text2,this._rendererBounds.width/2-i.width/2+i.width*s+h,l+o+c+o*this._offsetsArray[4]),this._ctx.fillText(this._text3,this._rendererBounds.width/2-a.width/2+a.width*u-h,l+2*o+2*c+o*this._offsetsArray[5])}},r.destroy=function(){this._showTween&&this._showTween.stop(),this.texture.dispose()},n}(m.pBf);function pe(e,t,n){return pe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},pe(e,t,n||e)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function _e(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}var ye=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}var xe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(n,e);var t=ge(n);function n(e){var r,o=e.gui,i=e.fragmentShader,s=e.vertexShader,a=e.geometry,u=e.text,c=e.offsetsArray;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,{geometry:a,fragmentShader:i,vertexShader:s}))._textTexture=null,r._isTTAnimatedIn=!1,r._text=u,r._offsetsArray=c,r._gui=o,r._setGui(),r}var r=n.prototype;return r._setGui=function(){},r.setRendererBounds=function(e){pe(ve(n.prototype),"setRendererBounds",this).call(this,e),this._createTextTexture(this._rendererBounds),this._rendererBounds.width>=B.A.tablet?this._mesh.material.uniforms.uLenseSize.value=ie.tabletSize:this._mesh.material.uniforms.uLenseSize.value=ie.mobileSize},r._createTextTexture=function(e){var t;null===(t=this._textTexture)||void 0===t||t.destroy(),this._textTexture=null,this._textTexture=new de({text:this._text,offsetsArray:this._offsetsArray,isAnimatedIn:this._isTTAnimatedIn}),this._isTTAnimatedIn=!0,this._textTexture.setRendererBounds(e);var n={asset:this._textTexture.texture,naturalWidth:this._textTexture._rendererBounds.width,naturalHeight:this._textTexture._rendererBounds.height,type:se.h.IMAGE};this.setAsset(n),this._textTexture.animateIn()},r.update=function(e){pe(ve(n.prototype),"update",this).call(this,e),this._textTexture&&this._textTexture.update(e)},r.destroy=function(){var e;pe(ve(n.prototype),"destroy",this).call(this),null===(e=this._textTexture)||void 0===e||e.destroy()},n}(Q);function be(e,t,n){return be="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},be(e,t,n||e)}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}var Oe=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}var je=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(n,e);var t=Se(n);function n(e){var r,o=e.gui,i=e.controls,s=e.camera,a=e.mouseMove;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,{camera:s,mouseMove:a,gui:o}))._loadedAssets=null,r._planeGeometry=new m._12(1,1,32,32),r._controls=i,r._textPlaneEn=new xe({geometry:r._planeGeometry,gui:o,fragmentShader:"#define GLSLIFY 1\nuniform vec2 uPlaneRes;\nuniform vec2 uImageRes;\nuniform sampler2D tMap;\nuniform float uTime;\nuniform vec2 uMouse2D;\nuniform vec2 uCanvasRes;\nuniform float uLenseSize;\n\nvarying vec2 vUv;\n\n#define S(a,t) smoothstep(a*0.975, a, t)\n\nvoid main() {\n  vec2 mouse2D = uMouse2D;\n  //reverse normalized mouse\n  mouse2D.x = (mouse2D.x + 1.0) * 0.5; \n  mouse2D.y = 1.0 - (mouse2D.y - 1.0) * -0.5;\n  \n  vec2 aspect = vec2(uCanvasRes.x / uCanvasRes.y, 1.0);\n\n  float radius = 0.5 * uLenseSize / uPlaneRes.y;\n  float dist = distance(mouse2D * aspect, vUv * aspect);\n  float d = 1.0 - S(radius, dist);\n\n  vec2 sub = mouse2D - vUv;\n  sub *= aspect;\n\n  vec4 tex = texture2D(tMap, vUv);\n\n  tex.a = mix(tex.a, 0.0, d);\n\n  gl_FragColor = tex;\n  \n}",text:["Any variations","that fit your","imagination"],offsetsArray:[-.18,.28,-.08,0,0,0]}),r.add(r._textPlaneEn),r._textPlaneCn=new xe({geometry:r._planeGeometry,gui:o,fragmentShader:"#define GLSLIFY 1\nuniform vec2 uPlaneRes;\nuniform vec2 uImageRes;\nuniform sampler2D tMap;\nuniform float uTime;\nuniform vec2 uMouse2D;\nuniform vec2 uCanvasRes;\nuniform float uLenseSize;\n\nvarying vec2 vUv;\n\n#define S(a,t) smoothstep(a*0.975, a, t)\n\nvec3 hueShift(vec3 color, float hue) {\n  const vec3 k = vec3(0.57735, 0.57735, 0.57735);\n  float cosAngle = cos(hue);\n  return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));\n}\n\nvoid main() {\n  vec2 mouse2D = uMouse2D;\n  //reverse normalized mouse\n  mouse2D.x = (mouse2D.x + 1.0) * 0.5; \n  mouse2D.y = 1.0 - (mouse2D.y - 1.0) * -0.5;\n  \n  vec2 aspect = vec2(uCanvasRes.x / uCanvasRes.y, 1.0);\n\n  float radius = 0.5 * uLenseSize / uPlaneRes.y;\n  float dist = distance(mouse2D * aspect, vUv * aspect);\n\n  float refractionOffset = 0.036;\n  float refractionPower = 0.007;\n\n  float d1 = S(radius, dist);\n  float d2 = S(radius * (1.0 - refractionOffset), dist) - d1;\n\n  vec2 sub = mouse2D - vUv;\n  sub *= aspect;\n\n  vec2 uv = vUv - sub * pow(dist * 0.7, 0.7) + d2 * refractionPower;\n  vec4 tex_r = texture2D(tMap, uv - sub * 0.01);\n  vec4 tex_g = texture2D(tMap, uv + sub * 0.02);\n  vec4 tex_b = texture2D(tMap, uv + sub * 0.02);\n  float a = max(max(tex_r.a, tex_g.a), tex_b.a);\n  vec4 tex = vec4(tex_r.r, tex_g.g, tex_b.b, a);\n\n  tex.a = mix(tex.a, 0.0, d1);\n\n  tex.rgb = hueShift(tex.rgb, 3.292);\n\n  gl_FragColor = tex;\n}",text:["\u3042\u306a\u305f\u306e\u60f3\u50cf","\u529b\u306b\u5408\u3046","\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3"],offsetsArray:[-.28,.255,.05,0,-.05,.12]}),r.add(r._textPlaneCn),r._lense3D=new ie({gui:o,geometry:r._planeGeometry,fragmentShader:'#define GLSLIFY 1\n//\n// GLSL textureless classic 2D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec2 fade(vec2 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec2 P)\n{\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod289(Pi); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n\n  vec4 i = permute(permute(ix) + iy);\n\n  vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n  vec4 gy = abs(gx) - 0.5 ;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n\n  vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\nuniform vec2 uPlaneRes;\nuniform vec2 uImageRes;\nuniform sampler2D tMap;\nuniform float uTime;\n\nvarying vec2 vUv;\n\n#define PI 3.14159265359\n\nvoid main() {\n    vec2 ratio = vec2(\n        min((uPlaneRes.x / uPlaneRes.y) / (uImageRes.x / uImageRes.y), 1.0),\n        min((uPlaneRes.y / uPlaneRes.x) / (uImageRes.y / uImageRes.x), 1.0)\n    );\n\n    vec2 uv = vec2(\n        vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n        vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n    );\n\n    gl_FragColor.rgba = texture2D(tMap, uv).rgba;\n    \n}',vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform vec2 uPlaneRes;\nuniform vec2 uMouse2D;\nuniform vec2 uCanvasRes;\n\nvoid main()\n{\n    vec3 pos = position;\n\n    pos.x += uMouse2D.x * uCanvasRes.x / uPlaneRes.x * 0.5;\n    pos.y += uMouse2D.y * uCanvasRes.y / uPlaneRes.y * 0.5;\n    \n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    vUv = uv;\n}"}),r.add(r._lense3D),r._background3D=new Y({gui:o}),r.add(r._background3D),r}var r=n.prototype;return r.animateIn=function(){},r.update=function(e){be(we(n.prototype),"update",this).call(this,e),this._background3D.setMouse2D(this._mouse2D),this._background3D.update(e),this._lense3D.setMouse2D(this._mouse2D),this._lense3D.update(e),this._textPlaneEn.setMouse2D(this._mouse2D),this._textPlaneEn.update(e),this._textPlaneCn.setMouse2D(this._mouse2D),this._textPlaneCn.update(e)},r.setLoadedAssets=function(e){this._loadedAssets=e,this._lense3D.setAsset(this._loadedAssets.lense)},r.setRendererBounds=function(e){be(we(n.prototype),"setRendererBounds",this).call(this,e),this._background3D.setSize({width:1.001*this._rendererBounds.width,height:1.001*this._rendererBounds.height}),this._lense3D.setRendererBounds(e),this._textPlaneEn.setRendererBounds(e),this._textPlaneEn.setSize(e),this._textPlaneCn.setRendererBounds(e),this._textPlaneCn.setSize(e)},r.destroy=function(){be(we(n.prototype),"destroy",this).call(this),this._background3D.destroy(),this.remove(this._background3D),this._lense3D.destroy(),this.remove(this._lense3D),this._textPlaneEn.destroy(),this.remove(this._textPlaneEn),this._textPlaneCn.destroy(),this.remove(this._textPlaneCn),this._planeGeometry.dispose()},n}(A),Ee="/_next/static/media/lense.1f18a482.png";function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Le(e,t){return!t||"object"!==Be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e,t){return Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ae(e,t)}var Be=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}var Ce=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(n,e);var t=Te(n);function n(e){var r,o=e.setShouldReveal,i=e.rendererEl,s=e.setProgressValue;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this))._rafId=null,r._isResumed=!0,r._lastFrameTime=null,r._mouseMove=w.A.getInstance(),r._preloader=new R.p,r._gui=new b.ZP,r._pixelRatio=1,r._onResizeDebounced=g()((function(){return r._onResize()}),300),r._onVisibilityChange=function(){document.hidden?r._stopAppFrame():r._resumeAppFrame()},r._onAssetsLoaded=function(){r._setShouldRevealReact(!0),r._experienceScene.setLoadedAssets(r._preloader.loadedAssets)},r._onPreloaderProgress=function(e){r._setProgressValueReact(e.progress)},r._renderOnFrame=function(e){if(r._rafId=window.requestAnimationFrame(r._renderOnFrame),r._isResumed||!r._lastFrameTime)return r._lastFrameTime=window.performance.now(),void(r._isResumed=!1);var t=e-r._lastFrameTime,n=t/P.W.motion.DT_FPS,o=Math.round(n);o>=1&&(n=o),r._lastFrameTime=e,r._experienceScene.update({delta:t,slowDownFactor:n,time:e}),r._renderer.render(r._experienceScene,r._camera)},r._rendererEl=i,r._canvas=document.createElement("canvas"),r._rendererEl.appendChild(r._canvas),r._camera=new m.cPb,r._setShouldRevealReact=o,r._setProgressValueReact=s,r._renderer=new m.CP7({canvas:r._canvas,antialias:!0,alpha:!0,powerPreference:"default"}),r._orbitControls=new x.z(r._camera,r._rendererEl),r._orbitControls.enableDamping=!0,r._orbitControls.enablePan=!1,r._orbitControls.enableRotate=!1,r._orbitControls.enableZoom=!1,r._orbitControls.update(),r._gui.title("Scene settings"),r._experienceScene=new je({camera:r._camera,mouseMove:r._mouseMove,controls:r._orbitControls,gui:r._gui}),r._onResize(),r._addListeners(),r._resumeAppFrame(),r._preloader.setAssetsToPreload([{src:Ee,type:"image",targetName:"lense"}]),r}var r=n.prototype;return r._onResize=function(){var e=this._rendererEl.getBoundingClientRect(),t=e.width/e.height;this._camera.aspect=t,this._camera.position.z=1e3,this._camera.fov=2*Math.atan(e.height/2/this._camera.position.z)*(180/Math.PI),this._renderer.setSize(e.width,e.height),this._pixelRatio=Math.min(window.devicePixelRatio,2),this._renderer.setPixelRatio(this._pixelRatio),this._camera.updateProjectionMatrix(),this._experienceScene.setPixelRatio(this._pixelRatio),this._experienceScene.setRendererBounds(e)},r._addListeners=function(){window.addEventListener("resize",this._onResizeDebounced),window.addEventListener("visibilitychange",this._onVisibilityChange),this._preloader.addEventListener("loaded",this._onAssetsLoaded),this._preloader.addEventListener("progress",this._onPreloaderProgress)},r._removeListeners=function(){window.removeEventListener("resize",this._onResizeDebounced),window.removeEventListener("visibilitychange",this._onVisibilityChange),this._preloader.removeEventListener("loaded",this._onAssetsLoaded),this._preloader.removeEventListener("progress",this._onPreloaderProgress)},r._resumeAppFrame=function(){this._isResumed=!0,this._rafId||(this._rafId=window.requestAnimationFrame(this._renderOnFrame))},r._stopAppFrame=function(){this._rafId&&(window.cancelAnimationFrame(this._rafId),this._rafId=null)},r.destroy=function(){this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas),this._stopAppFrame(),this._removeListeners(),this._experienceScene.destroy(),this._preloader.destroy(),this._gui.destroy()},n}(m.pBf);function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Me(e,t,n[t])}))}return e}function ze(e){var t=e.head,n=(0,o.useRef)(null),a=(0,o.useState)(!1),u=a[0],c=a[1],f=(0,o.useState)(0)[1];return(0,s.q)((function(){if(n.current)return _.app=new Ce({rendererEl:n.current,setShouldReveal:c,setProgressValue:f}),function(){_.app&&(_.app.destroy(),_.app=null)}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.F,Ie({},t)),(0,r.jsxs)(d,{children:[(0,r.jsx)(p,{shouldReveal:u}),(0,r.jsx)(v,{ref:n})]})]})}var ke=!0},2648:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var r=n(5893),o=n(9008),i=(n(7294),n(3454)),s=function(){var e=i.env.NEXT_PUBLIC_GA_KEY;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=".concat(e)}),(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', '".concat(e,"');\n          ")}})]})},a=function(e){var t=e.ogImage,n=void 0===t?"https://res.cloudinary.com/dpv0ukspz/image/upload/v1650138958/og-100_mvbgru.jpg":t,i=e.title,a=void 0===i?"Portfolio 2022":i,u=e.description,c=void 0===u?"Michal Zalobny portfolio 2022 WebGL & GLSL":u;return(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"Michal Zalobny - ".concat(a)}),(0,r.jsx)("meta",{name:"description",content:c}),(0,r.jsx)("link",{rel:"icon",href:"https://res.cloudinary.com/dpv0ukspz/image/upload/v1650137433/icon_wghyio.ico"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:"Michal Zalobny - ".concat(a)}),(0,r.jsx)("meta",{property:"og:description",content:c}),(0,r.jsx)("meta",{property:"og:image",content:n}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:"Michal Zalobny - ".concat(a)}),(0,r.jsx)("meta",{name:"twitter:description",content:c}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,r.jsx)(s,{})]})}},4036:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(9477),o=n(4976),i=n(7607);function s(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var a=function(e){e.children&&e.children.forEach((function(e){return a(e)})),s(e,r.Kj0)&&(s(e.geometry,r.u9r)&&e.geometry.dispose(),s(e.material,r.F5T)&&e.material.dispose())},u=n(7957);function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}var h=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t=d(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this))._assetsLoadedCounter=0,e._dracoLoader=new o._,e._gltfLoader=new i.E,e._cubeTextureLoader=new r.cBK,e._assetsToPreload=[],e.loadedAssets={},e._dracoLoader.setDecoderPath("/draco/"),e._gltfLoader.setDRACOLoader(e._dracoLoader),e}var s=n.prototype;return s._assignAsset=function(e){var t=e.asset,n=e.naturalHeight,r=e.naturalWidth,o=e.objPropertyName,i=e.type;this.loadedAssets[o]={type:i,asset:t,naturalWidth:r,naturalHeight:n},this._onAssetLoaded()},s._preloadTextures=function(){var e=this;if(0===this._assetsToPreload.length)return this._onLoadingComplete();this._assetsToPreload.forEach((function(t){switch(t.type){case u.h.IMAGE:!function(t){var n=e,o=new r.xEZ,i=new window.Image;i.crossOrigin="anonymous",i.src=t.src;var s=function(){o.image=i,o.needsUpdate=!0,n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.IMAGE,asset:o,naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight})};if(i.complete)return s();i.onload=function(){s()},i.onerror=function(){n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.IMAGE,asset:o,naturalWidth:1,naturalHeight:1}),console.error("Failed to load image at ".concat(t.src))}}(t);break;case u.h.VIDEO:!function(t){var n=e,o=document.createElement("video");o.crossOrigin="anonymous",o.muted=!0,o.loop=!0,o.controls=!0,o.playsInline=!0,o.autoplay=!0,o.src=t.src,o.play(),o.oncanplay=function(){var e=new r.fO1(o);n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.VIDEO,asset:e,naturalWidth:o.videoWidth,naturalHeight:o.videoHeight})},o.onerror=function(){var e=new r.fO1(o);n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.VIDEO,asset:e,naturalWidth:1,naturalHeight:1}),console.error("Failed to load video at ".concat(t.src))}}(t);break;case u.h.MODEL3D:!function(t){var n=e;e._gltfLoader.load(t.src,(function(e){n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.MODEL3D,asset:e,naturalWidth:1,naturalHeight:1})}),(function(e){}),(function(e){n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.MODEL3D,asset:null,naturalWidth:1,naturalHeight:1}),console.error("Failed to load 3D model at ".concat(t.src," "),e)}))}(t);break;case u.h.CUBE_TEXTURE:!function(t){var n=e;e._cubeTextureLoader.setPath("cubeMaps/".concat(t.src,"/")),e._cubeTextureLoader.load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"],(function(e){n._assignAsset({objPropertyName:t.targetName||t.src,type:u.h.CUBE_TEXTURE,asset:e,naturalWidth:1,naturalHeight:1})}))}(t)}}))},s._onAssetLoaded=function(){this._assetsLoadedCounter+=1;var e=this._assetsLoadedCounter/this._assetsToPreload.length;this.dispatchEvent({type:"progress",progress:e}),1===e&&this._onLoadingComplete()},s._onLoadingComplete=function(){this.dispatchEvent({type:"loaded"})},s.setAssetsToPreload=function(e){this._assetsToPreload=e,this._preloadTextures()},s.destroy=function(){Object.entries(this.loadedAssets).forEach((function(e){switch(e[1].type){case u.h.IMAGE:case u.h.VIDEO:e[1].asset.dispose();break;case u.h.MODEL3D:e[1].asset.scenes.forEach((function(e){a(e)}));break;case u.h.CUBE_TEXTURE:e[1].asset.dispose()}}))},n}(r.pBf)},7957:function(e,t,n){"use strict";var r;n.d(t,{f:function(){return o},h:function(){return r}}),function(e){e.MODEL3D="model3d",e.VIDEO="video",e.IMAGE="image",e.CUBE_TEXTURE="cube_texture"}(r||(r={}));var o={bottom:1,height:1,left:1,right:1,top:1,width:1,x:1,y:1}}},function(e){e.O(0,[260,559,227,774,888,179],(function(){return t=9944,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
